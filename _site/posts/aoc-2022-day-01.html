<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="/assets/css/styles.css">
		<title>Advent of Code 2022, Day 01 in Rust | lumi's trashcan
		</title>
		

<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="lumi's trashcan">
<meta name="application-name" content="lumi's trashcan">
<meta name="msapplication-TileColor" content="#aec6cf">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#000">

	</head>

	<body>
		<div id="main-wrapper">
			<div id="wrapper">
				<div id="sidebar">
					<header>
						<p>
							<a href="/">home</a> |
							<a href="/archives">archives</a> |
							<a href="/categories">categories</a> |
							<a href="/tags">tags</a>
							</br>
							<a href="/projects">projects</a> |
							<a href="/socials">socials</a>
						</p>

						<p>
							<big>lumi's trashcan</big>
						</p>
					</header>

					<footer>
						<p>
							art by <a href="https://twitter.com/felutiahime/">@felutiahime</a>
							</br>
							Â© 2022-2023 j1nxie
						</p>
					</footer>
				</div>

				<section id="main">
					<div class="content">
						<div class="title">
	<h1>Advent of Code 2022, Day 01 in Rust</h1>
	<p>December 01, 2022</p>
	<hr>
</div>

<p>It's that time of the year again! December has started, and once again, another
<a href="https://adventofcode.com">Advent of Code</a> starts! For this year, I'll attempt
to solve the puzzles on the days they are released, with solutions written
mainly in Rust. For some puzzles, I shall try to up the ante by writing a
solution in Game Boy-flavored C.</p>

<h2 id="setting-up-my-setup-environment">Setting up my setup environment</h2>

<p>I will be generating my code repository using
<a href="https://github.com/fspoettel">fspoettel</a>'s
<a href="https://github.com/fspoettel/advent-of-code-rust">advent-of-code-rust</a>. This is
a very neat repository template that has all the features you will need for
Advent of Code: day scaffolding, built-in unit tests, input downloading, etc.
It is very easy to setup and helps you with organizing your AoC codebase.</p>

<p>After generating my repository from the template, my personal preferences are to
enable Clippy and the automated <code class="language-plaintext highlighter-rouge">README.md</code> progress tracker. Then, I will clone
the repository, and <code class="language-plaintext highlighter-rouge">cargo scaffold 01</code> to prepare the files for the first day.
With all that set up, time to proceed with the actual solving!</p>

<h2 id="solving-the-first-part">Solving the first part</h2>

<p>I will be quoting each day's question statement, minus the flavor text. The
first part is given as below:</p>

<blockquote>
  <p>The jungle must be too overgrown and difficult to navigate in vehicles or
access from the air; the Elves' expedition traditionally goes on foot. As your
boats approach land, the Elves begin taking inventory of their supplies. One
important consideration is food - in particular, the number of <strong>Calories</strong> each
Elf is carrying (your puzzle input).</p>

  <p>The Elves take turns writing down the number of Calories contained by the
various meals, snacks, rations, etc. that they've brought with them, one item
per line. Each Elf separates their own inventory from the previous Elf's
inventory (if any) by a blank line.</p>

  <p>For example, suppose the Elves finish writing their items' Calories and end up
with the following list:</p>
  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre>1000
2000
3000

4000

5000
6000

7000
8000
9000

10000
</pre></td></tr></tbody></table></code></pre></div>  </div>
  <p>This list represents the Calories of the food carried by five Elves:</p>

  <p>The first Elf is carrying food with <code class="language-plaintext highlighter-rouge">1000</code>, <code class="language-plaintext highlighter-rouge">2000</code>, and <code class="language-plaintext highlighter-rouge">3000</code> Calories, a
total of <code class="language-plaintext highlighter-rouge">6000</code> Calories.</p>

  <p>The second Elf is carrying one food item with <code class="language-plaintext highlighter-rouge">4000</code> Calories.</p>

  <p>The third Elf is carrying food with <code class="language-plaintext highlighter-rouge">5000</code> and <code class="language-plaintext highlighter-rouge">6000</code> Calories, a total of
<code class="language-plaintext highlighter-rouge">11000</code> Calories.</p>

  <p>The fourth Elf is carrying food with <code class="language-plaintext highlighter-rouge">7000</code>, <code class="language-plaintext highlighter-rouge">8000</code>, and <code class="language-plaintext highlighter-rouge">9000</code> Calories, a
total of <code class="language-plaintext highlighter-rouge">24000</code> Calories.</p>

  <p>The fifth Elf is carrying one food item with <code class="language-plaintext highlighter-rouge">10000</code> Calories.</p>

  <p>In case the Elves get hungry and need extra snacks, they need to know which
Elf to ask: they'd like to know how many Calories are being carried by the Elf
carrying the most Calories. In the example above, this is <code class="language-plaintext highlighter-rouge">24000</code> (carried by
the fourth Elf). Find the Elf carrying the most Calories. <strong>How many total
Calories is that Elf carrying?</strong></p>
</blockquote>

<p>This question is a rather simple one. As each chunk, seperated by an empty line,
represents a single Elf, I will split the input text into each chunk, and push
each chunk into a <code class="language-plaintext highlighter-rouge">Vec</code>. An empty <code class="language-plaintext highlighter-rouge">Vec</code> will also be created to hold the Calories
count of each Elf (this will be empty because we will take care of this part
later!)</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="k">let</span> <span class="n">elves</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;&amp;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">input</span><span class="nf">.split</span><span class="p">(</span><span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">)</span><span class="nf">.collect</span><span class="p">();</span>
<span class="k">let</span> <span class="k">mut</span> <span class="n">foods</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">u32</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nd">vec!</span><span class="p">[];</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Afterwards, I will iterate through each Elf inside the <code class="language-plaintext highlighter-rouge">elves</code> vector, parse
each of the <code class="language-plaintext highlighter-rouge">&amp;str</code> line to obtain its value, and sum all those values up to get
the total Calories count of an Elf. I will then push this value into the <code class="language-plaintext highlighter-rouge">foods</code>
vector created above.</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="n">elf</span> <span class="k">in</span> <span class="n">elves</span> <span class="p">{</span>
	<span class="k">let</span> <span class="n">food</span><span class="p">:</span> <span class="nb">u32</span> <span class="o">=</span> <span class="n">elf</span><span class="nf">.lines</span><span class="p">()</span><span class="nf">.map</span><span class="p">(|</span><span class="n">x</span><span class="p">|</span> <span class="n">x</span><span class="py">.parse</span><span class="p">::</span><span class="o">&lt;</span><span class="nb">u32</span><span class="o">&gt;</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">())</span><span class="nf">.sum</span><span class="p">();</span>
	<span class="n">foods</span><span class="nf">.push</span><span class="p">(</span><span class="n">food</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>After dealing with this, it's just a matter of using a few Rust methods, namely
<code class="language-plaintext highlighter-rouge">.into_iter()</code> and <code class="language-plaintext highlighter-rouge">.max()</code> to obtain the maximum amount of Calories carried.</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nf">Some</span><span class="p">(</span><span class="n">foods</span><span class="nf">.into_iter</span><span class="p">()</span><span class="nf">.max</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">()</span> <span class="k">as</span> <span class="nb">u32</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">Some</code> and the <code class="language-plaintext highlighter-rouge">u32</code> cast was used here as the return type of the functions
as scaffolded by <code class="language-plaintext highlighter-rouge">advent-of-code-rust</code> is <code class="language-plaintext highlighter-rouge">Option&lt;u32&gt;</code> by default.</p>

<p>I will be editing the test case result in the <code class="language-plaintext highlighter-rouge">test_part_one()</code> function into
<code class="language-plaintext highlighter-rouge">24000</code> as given in the question statement as well.</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nd">#[test]</span>
<span class="k">fn</span> <span class="nf">test_part_one</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">let</span> <span class="n">input</span> <span class="o">=</span> <span class="nn">advent_of_code</span><span class="p">::</span><span class="nf">read_file</span><span class="p">(</span><span class="s">"examples"</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	<span class="nd">assert_eq!</span><span class="p">(</span><span class="nf">part_one</span><span class="p">(</span><span class="n">input</span><span class="p">),</span> <span class="nf">Some</span><span class="p">(</span><span class="mi">24000</span><span class="p">));</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="solving-the-second-part">Solving the second part</h2>

<p>The second part's question statement is given as such:</p>

<blockquote>
  <p>By the time you calculate the answer to the Elves' question, they've already
realized that the Elf carrying the most Calories of food might eventually
<strong>run out of snacks</strong>.</p>

  <p>To avoid this unacceptable situation, the Elves would instead like to know the
total Calories carried by the <strong>top three</strong> Elves carrying the most Calories.
That way, even if one of those Elves runs out of snacks, they still have two
backups.</p>

  <p>In the example above, the top three Elves are the fourth Elf (with <code class="language-plaintext highlighter-rouge">24000</code>
Calories), then the third Elf (with <code class="language-plaintext highlighter-rouge">11000</code> Calories), then the fifth Elf (with
<code class="language-plaintext highlighter-rouge">10000</code> Calories). The sum of the Calories carried by these three elves is
<code class="language-plaintext highlighter-rouge">45000</code>.</p>

  <p>Find the top three Elves carrying the most Calories. <strong>How many Calories are
those Elves carrying in total?</strong></p>
</blockquote>

<p>We will be going through the same steps as the previous part: Splitting text
input into chunks, pushing them into a vector, calculating the total Calories
count for each Elf.</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">let</span> <span class="n">elves</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;&amp;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">input</span><span class="nf">.split</span><span class="p">(</span><span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">)</span><span class="nf">.collect</span><span class="p">();</span>
<span class="k">let</span> <span class="k">mut</span> <span class="n">foods</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">u32</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nd">vec!</span><span class="p">[];</span>
<span class="k">for</span> <span class="n">elf</span> <span class="k">in</span> <span class="n">elves</span> <span class="p">{</span>
	<span class="k">let</span> <span class="n">food</span><span class="p">:</span> <span class="nb">u32</span> <span class="o">=</span> <span class="n">elf</span><span class="nf">.lines</span><span class="p">()</span><span class="nf">.map</span><span class="p">(|</span><span class="n">x</span><span class="p">|</span> <span class="n">x</span><span class="py">.parse</span><span class="p">::</span><span class="o">&lt;</span><span class="nb">u32</span><span class="o">&gt;</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">())</span><span class="nf">.sum</span><span class="p">();</span>
	<span class="n">foods</span><span class="nf">.push</span><span class="p">(</span><span class="n">food</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>For the next step, I'll be using Rust's built-in <code class="language-plaintext highlighter-rouge">.sort_by()</code> method to sort the
<code class="language-plaintext highlighter-rouge">foods</code> vector in descending order.</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">foods</span><span class="nf">.sort_by</span><span class="p">(|</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">|</span> <span class="n">b</span><span class="nf">.cmp</span><span class="p">(</span><span class="n">a</span><span class="p">));</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>After that, it's just a matter of grabbing the sum of the first 3 elements of
the above vector.</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nf">Some</span><span class="p">(</span><span class="n">foods</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">foods</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">foods</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Similar to the previous part's test case, I'll be editing its result to <code class="language-plaintext highlighter-rouge">45000</code>
as given by the question statement.</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nd">#[test]</span>
<span class="k">fn</span> <span class="nf">test_part_two</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">let</span> <span class="n">input</span> <span class="o">=</span> <span class="nn">advent_of_code</span><span class="p">::</span><span class="nf">read_file</span><span class="p">(</span><span class="s">"examples"</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
	<span class="nd">assert_eq!</span><span class="p">(</span><span class="nf">part_two</span><span class="p">(</span><span class="o">&amp;</span><span class="n">input</span><span class="p">),</span> <span class="nf">Some</span><span class="p">(</span><span class="mi">45000</span><span class="p">));</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="afterword">Afterword</h2>

<p>As typical for all day 1 questions of each year, this is a rather simple and
straightforward question that can basically be solved using some parsing. The
harder part of this is to write clean and Rust-y code I guess? I feel like I can
definitely make the <code class="language-plaintext highlighter-rouge">for</code> loops more Rust-y by using iterator methods more, but
I still haven't figured it out yet!</p>

<p>My code can be found on my
<a href="https://github.com/j1nxie/aoc-rs-2022/blob/main/src/bin/01.rs">GitHub</a>. Feel
free to check it out!</p>


					</div>
				</section>
			</div>
		</div>
	</body>
</html>
