<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;media-src 'self';style-src 'self';frame-src player.vimeo.com https://www.youtube-nocookie.com;connect-src 'self' rylie.goatcounter.com/count 'self' https://*;script-src 'self' gc.zgo.at 'self'" http-equiv=Content-Security-Policy><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://rylie.moe name=base><title>
Suffering on Discord at 17:00 - Decompiling Project Sekai: Colorful Stage! feat. Hatsune Miku | lumi's trashcan</title><link href=https://rylie.moe/favicon.ico rel=icon type=image/png><link title="lumi's trashcan - Atom Feed" href=https://rylie.moe/atom.xml rel=alternate type=application/atom+xml><link href="https://rylie.moe/custom_subset.css?h=0b9535a28bc3d5bf2321" rel=stylesheet><link href="https://rylie.moe/main.css?h=9ba37545587e359ed117" rel=stylesheet><link href="https://rylie.moe/skins/sakura.css?h=2d9c69af51135683e3bd" rel=stylesheet><meta content="light dark" name=color-scheme><meta content="One random day, I got myself hooked up in Project Sekai again. Well… not for a
long enough time - friends actually got me hooked into World Dai Star, and
that game is much better in terms of charting. Anyways, I find my reading
skill to have gone up after grinding out 16.25 in CHUNITHM, but executing
patterns and actually getting APs still turns out to be a challenge for me…" name=description><meta content="One random day, I got myself hooked up in Project Sekai again. Well… not for a
long enough time - friends actually got me hooked into World Dai Star, and
that game is much better in terms of charting. Anyways, I find my reading
skill to have gone up after grinding out 16.25 in CHUNITHM, but executing
patterns and actually getting APs still turns out to be a challenge for me…" property=og:description><meta content="Suffering on Discord at 17:00 - Decompiling Project Sekai: Colorful Stage! feat. Hatsune Miku" property=og:title><meta content=article property=og:type><meta content=en_GB property=og:locale><meta content=https://rylie.moe/blog/sekai-decompiling/ property=og:url><meta content="lumi's trashcan" property=og:site_name><noscript><link href=https://rylie.moe/no_js.css rel=stylesheet></noscript><script src=https://rylie.moe/js/initializeTheme.min.js></script><script defer src=https://rylie.moe/js/themeSwitcher.min.js></script><script async data-goatcounter=https://rylie.goatcounter.com/count src=https://gc.zgo.at/count.js></script><script src="https://rylie.moe/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><header><nav class=navbar><div class=nav-title><a class=home-title href=https://rylie.moe>lumi's trashcan</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://rylie.moe/blog/>blog </a><li><a class="nav-links no-hover-padding" href=https://rylie.moe/archive/>archive </a><li><a class="nav-links no-hover-padding" href=https://rylie.moe/tags/>tags </a><li><a class="nav-links no-hover-padding" href=https://rylie.moe/projects/>projects </a><li class=menu-icons-container><ul class=menu-icons-group><li class="js menu-icon"><div aria-label="Click or press $SHORTCUT to open search" class="search-icon interactive-icon" title="Click or press $SHORTCUT to open search" id=search-button role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><li class="theme-switcher-wrapper js"><div aria-label="Toggle dark mode" title="Toggle dark/light mode" aria-pressed=false class=theme-switcher role=button tabindex=0></div><div aria-label="Reset mode to default" class="theme-resetter arrow" title="Reset mode to default" aria-hidden=true role=button tabindex=0></div></ul></ul></div></nav></header><div class=content><main><article><h1 class=article-title>Suffering on Discord at 17:00 - Decompiling Project Sekai: Colorful Stage! feat. Hatsune Miku</h1><ul class=meta><li>5th May 2025<li title="2223 words"><span aria-hidden=true class=separator>|</span>12 min read<li class=tag><span aria-hidden=true class=separator>|</span>Tags: <li class=tag><a href=https://rylie.moe/tags/coding/>coding</a>, <li class=tag><a href=https://rylie.moe/tags/reverse-engineering/>reverse engineering</a></ul><div class=toc-container><h3>Table of Contents</h3><ul><li><a href=https://rylie.moe/blog/sekai-decompiling/#unity-what-s-that>Unity? What’s that?</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#il2cppain>IL2CPPain…</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#less-pain-more-gain>Less pain, more gain?</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#the-battle-finally-starts>The battle finally starts…</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#introducing-frida>Introducing Frida</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#unveiling-the-secrets>Unveiling the secrets</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#conclusions>Conclusions</a></ul></div><section class=body><p>One random day, I got myself hooked up in Project Sekai again. Well… not for a long enough time - friends actually got me hooked into World Dai Star, <del>and that game is <em>much</em> better in terms of charting</del>. Anyways, I find my reading skill to have gone up after grinding out 16.25 in CHUNITHM, but executing patterns and actually getting APs still turns out to be a challenge for me.</p><span id=continue-reading></span><p>Though, being a person who’s insanely autistic in terms of looking at stats, I did end up asking around on whether there’s any solutions for score tracking for Project Sekai. Less so out of actual interest in tracking my own progression, more so out of curiosity on how it’s done. My friend <a class=external href=https://github.com/beer-psi>beerpsi</a> mentioned a Discord bot for it, using the save from the data transfer feature. Checking that bot’s source code out, I let out a loud “awwwww…” as I saw the note:<blockquote><p>This repository hides the requirements.txt, as well as all PJSK API-based code. This will not be made publicly available, due to the sensitive nature of the game’s API.</blockquote><p>Time to take matters into my own hands! Knowing that the game runs on Unity 2022<sup class=footnote-reference id=fr-1-1><a href=#fn-1>1</a></sup>, with a little bit of Unity reverse engineering knowledge, I feel like this wouldn’t be <em>too</em> difficult… Or so I thought.<div class="admonition note"><div class="admonition-icon admonition-icon-note"></div><div class=admonition-content><strong class=admonition-title>NOTE</strong><p>This is clearly not meant to be an encompassing tutorial! I don’t think I’m entirely correct throughout my journey, but I will try to document everything I tried and thought of!</div></div><h1 id=unity-what-s-that><a aria-label="Anchor link for: unity-what-s-that" class="header-anchor no-hover-padding" href=#unity-what-s-that><span aria-hidden=true class=link-icon></span></a> Unity? What’s that?</h1><p>Unity is a cross-platform game engine, often used for mobile games, with C# as its primary programming language. Given the nature of C#, usually the game code is compiled into what is called Intermediate Language (IL) to be loaded into the Unity runtime. One neat thing about IL is, it can be decompiled back into C# code, with the help of tools like <a class=external href=https://github.com/icsharpcode/ILSpy>ILSpy</a> or <a class=external href=https://github.com/dnSpy/dnSpy>dnSpy</a>. This file is often named <code>Assembly-CSharp.dll</code>, and stored under the <code>Managed</code> directory <em>somewhere</em>.<p>So what’s the catch? Well, to really see how things are, let’s take a look at the game’s APK. I snatched the game off APKPure, and it comes as an XAPK - which is just a fancy name for a ZIP file containing the main APK, architecture-specific code and other assets.<p><img alt="Project Sekai XAPK content" src=/image/sekai-decompiling/sekai-xapk.png><p>Nothing interesting within <code>com.sega.pjsekai.apk</code>, outside of the various system libraries that the game uses, so I’ll take a look at the other APK file, <code>config.arm64_v8a.apk</code>.<p>Digging around for a little bit, I found myself stumbling upon… nothing? Where’s my <code>Assembly-CSharp.dll</code>? All I see is a ton of <code>.so</code> files… What’s going on?<p><img alt="Project Sekai arm64_v8a content" src=/image/sekai-decompiling/config-apk.png><h1 id=il2cppain><a aria-label="Anchor link for: il2cppain" class="header-anchor no-hover-padding" href=#il2cppain><span aria-hidden=true class=link-icon></span></a> IL2CPPain…</h1><p>As it turns out, Unity has given developers the choice to make the game code exported as a native library, using what is called IL2CPP. This allows the game to run in environments that disallow just-in-time<sup class=footnote-reference id=fr-2-1><a href=#fn-2>2</a></sup> runtimes, e.g. iOS.<p>IL2CPP, in short, compiles all the IL code into C++ code, then said C++ code is used to compile into a native binary <em>ahead-of-time</em><sup class=footnote-reference id=fr-3-1><a href=#fn-3>3</a></sup>, in this case, <code>libil2cpp.so</code>. The most important thing for us here is that this strips away all the goodness that comes with IL, like symbol names and readable function bodies, as this is all going to be heavily optimized and stripped by the C++ compiler.<p>For the developers, this is heaven (or so we’ll assume, to be determined later). For us, this is hell. If you jumped straight in and, say, put this output binary straight into a disassembler like Ghidra or IDA Pro, you’re in for a very rough time.<h1 id=less-pain-more-gain><a aria-label="Anchor link for: less-pain-more-gain" class="header-anchor no-hover-padding" href=#less-pain-more-gain><span aria-hidden=true class=link-icon></span></a> Less pain, more gain?</h1><p>Thankfully though, Unity still keeps something lying around for us to use. Meet <code>global-metadata.dat</code>. “What is this?”, I hear you ask. This file contains all the .NET metadata for the game, including definitions and symbols for <em>all</em> the types, methods, etc. This is an <em>incredibly</em> useful source of information for us.<p>As mentioned earlier, this is what makes IL2CPP not <em>quite</em> the heaven for developers who <em>really</em>, <strong>really</strong> don’t want their game to be reverse-engineered. All the metadata is still available in one single file, which can be used to reverse-engineer the game’s code. It takes a lot of effort to hide this file away or somehow make it inaccessible.<div class="admonition note"><div class="admonition-icon admonition-icon-note"></div><div class=admonition-content><strong class=admonition-title>NOTE</strong><p>If you want to know more about this, feel free to take a look at <a class=external href=https://katyscode.wordpress.com/2020/12/27/il2cpp-part-2/>djkaty’s blog post on IL2CPP metadata</a>. Their blog posts have been an incredibly helpful read on how to approach the project!</div></div><p><img alt=global-metadata.dat src=/image/sekai-decompiling/global-metadata.png><p>Right, now that I’ve found it… how do we really use this for anything? I wanted to use <a class=external href=https://github.com/djkaty/Il2CppInspector>Il2CppInspector</a>, but the game seems to be too new for it, as the last update for this was in 2021, and the game <em>just</em> moved to Unity 2022 very recently. A bit of extra digging brings me to <a class=external href=https://github.com/Perfare/Il2CppDumper>Il2CppDumper</a>, which is another tool with similar features. Surely, by passing this and <code>libil2cpp.so</code> to Il2CppDumper, we can dump the assembly, right? Right…?<h1 id=the-battle-finally-starts><a aria-label="Anchor link for: the-battle-finally-starts" class="header-anchor no-hover-padding" href=#the-battle-finally-starts><span aria-hidden=true class=link-icon></span></a> The battle finally starts…</h1><p>Passing in both the binary and the metadata file gave me…<p><img alt="Error within Il2CppDumper" src=/image/sekai-decompiling/rip.png><p>That’s weird. Why are we getting an error? Invalid metadata? Thanks to <a class=external href=https://katyscode.wordpress.com/2021/01/17/reverse-engineering-adventures-honkai-impact-3rd-houkai-3-il2cpp-part-1/>another blog post by djkaty</a>, we know that the metadata file <em>should</em> start with the magic bytes <code>AF 1B B1 FA</code>, followed by the version number of the metadata file. Let’s check out the one we extracted from the game, by opening it in a hex editor.<p><img alt="Hex view of global-metadata.dat" src=/image/sekai-decompiling/encrypted-metadata.png><p>Right. This isn’t it. It’s encrypted. It’s easy enough to figure out that the game <em>will</em> need to decrypt this at runtime to properly initialize the game, so my first thought is to get myself a memory dump of the game’s process. Surely there are better ways out there, including seeing how the actual encryption is performed, but let’s leave it to another day.<h1 id=introducing-frida><a aria-label="Anchor link for: introducing-frida" class="header-anchor no-hover-padding" href=#introducing-frida><span aria-hidden=true class=link-icon></span></a> Introducing Frida</h1><p>Let’s get ourselves familiar with the tools we’ll use: Frida and objection.<p><a class=external href=https://frida.re/>Frida</a> is a dynamic instrumentation toolkit that allows you to hook onto running processes, so you could dynamically modify the behavior of the process. We won’t need to do anything <em>too special</em> here, other than getting it hooked up <em>just enough</em> to read memory from the game’s process.<p><a class=external href=https://github.com/sensepost/objection>objection</a> is a toolkit, powered by Frida, that allows you to explore the state of a mobile app’s process.<p>I used Android Studio’s AVD to run the game in an emulator. Do note that you will need to use a system image that doesn’t have Google Play installed - these will allow <code>adbd</code> to run as root, so you could run <code>frida-server</code>. I also used <a class=external href=https://gitlab.com/newbit/rootAVD>rootAVD</a> to get myself a pre-rooted Android image with Magisk on it.<p>With the emulator running and rooted as above, we can start up <code>frida-server</code> on the emulator:<pre class=z-code><code><span class="z-text z-plain">$ adb root
</span><span class="z-text z-plain">$ adb push frida-server /data/local/tmp/
</span><span class="z-text z-plain">$ adb shell "chmod 755 /data/local/tmp/frida-server"
</span><span class="z-text z-plain">$ adb shell "/data/local/tmp/frida-server &"
</span></code></pre><div class="admonition note"><div class="admonition-icon admonition-icon-note"></div><div class=admonition-content><strong class=admonition-title>NOTE</strong><p>Make sure that <code>frida-server</code> is downloaded and extracted, as well as matching the version of Frida installed in your environment.</div></div><p>After starting up, let’s try listing all the processes on the emulator…<pre class=z-code><code><span class="z-text z-plain">$ frida-ps -Uai
</span><span class="z-text z-plain">PID  Name             Identifier
</span><span class="z-text z-plain">----  ---------------  ---------------------------------------
</span><span class="z-text z-plain">2500  Camera           com.android.camera2
</span><span class="z-text z-plain">1798  Chrome           com.android.chrome
</span><span class="z-text z-plain">2625  Clock            com.google.android.deskclock
</span><span class="z-text z-plain">1759  Google           com.google.android.googlequicksearchbox
</span><span class="z-text z-plain">1759  Google           com.google.android.googlequicksearchbox
</span><span class="z-text z-plain">1639  Messages         com.google.android.apps.messaging
</span><span class="z-text z-plain">2709  Personal Safety  com.google.android.apps.safetyhub
</span><span class="z-text z-plain">3685  Photos           com.google.android.apps.photos
</span><span class="z-text z-plain">1197  SIM Toolkit      com.android.stk
</span><span class="z-text z-plain">1200  Settings         com.android.settings
</span><span class="z-text z-plain">  -  Calendar         com.google.android.calendar
</span><span class="z-text z-plain">  -  Contacts         com.google.android.contacts
</span><span class="z-text z-plain">  -  Drive            com.google.android.apps.docs
</span><span class="z-text z-plain">  -  Files            com.google.android.documentsui
</span><span class="z-text z-plain">  -  Gmail            com.google.android.gm
</span><span class="z-text z-plain">  -  Magisk           com.topjohnwu.magisk
</span><span class="z-text z-plain">  -  Maps             com.google.android.apps.maps
</span><span class="z-text z-plain">  -  Phone            com.google.android.dialer
</span><span class="z-text z-plain">  -  YouTube          com.google.android.youtube
</span><span class="z-text z-plain">  -  YouTube Music    com.google.android.apps.youtube.music
</span><span class="z-text z-plain">  -  プロセカ             com.sega.pjsekai
</span></code></pre><p>Sweet! Our setup is all working. I also installed the game on the device as well, shown by the “プロセカ” app with the identifier <code>com.sega.pjsekai</code>. Let’s launch the game and read its memory with objection.<pre class=z-code><code><span class="z-text z-plain">$ objection -g com.sega.pjsekai explore
</span><span class="z-text z-plain">Using USB device `Android Emulator 5554`
</span><span class="z-text z-plain">Agent injected and responds ok!
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">     _   _         _   _
</span><span class="z-text z-plain"> ___| |_|_|___ ___| |_|_|___ ___
</span><span class="z-text z-plain">| . | . | | -_|  _|  _| | . |   |
</span><span class="z-text z-plain">|___|___| |___|___|_| |_|___|_|_|
</span><span class="z-text z-plain">      |___|(object)inject(ion) v1.11.0
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">     Runtime Mobile Exploration
</span><span class="z-text z-plain">        by: @leonjza from @sensepost
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">[tab] for command suggestions
</span><span class="z-text z-plain">com.sega.pjsekai on (google: 15) [usb] #
</span></code></pre><p>And… the game restarted. Thankfully, we don’t have to worry too much about it<ul><li>objection managed to keep itself loaded within the process, so we can continue our investigation. We’re now greeted by objection’s prompt, and we can start to do plenty of things here!</ul><p>Let’s remind ourselves of what we know so far of <code>global-metadata.dat</code>:<ul><li>It has all the metadata for the game code, including definitions and symbols for <em>everything</em> within the C# code.<li>It should start with <code>AF 1B B1 FA</code>.<li>It should be loaded entirely into memory upon the game’s initialization.</ul><p>Using objection, we can search for the above pattern within the memory using the command <code>memory search "af 1b b1 fa"</code>.<pre class=z-code><code><span class="z-text z-plain">com.sega.pjsekai on (google: 15) [usb] # memory search "af 1b b1 fa"
</span><span class="z-text z-plain">Searching for: af 1b b1 fa
</span><span class="z-text z-plain">741b09a00000  af 1b b1 fa 1d 00 00 00 00 01 00 00 e8 dc 03 00  ................
</span><span class="z-text z-plain">741b09a00010  e8 dd 03 00 18 c4 0d 00 00 a2 11 00 98 63 3b 00  .............c;.
</span><span class="z-text z-plain">741b09a00020  98 05 4d 00 88 3e 00 00 20 44 4d 00 50 74 09 00  ..M..>.. DM.Pt..
</span><span class="z-text z-plain">Pattern matched at 1 addresses
</span></code></pre><p>Well, that was easy. It doesn’t look like Colorful Palette did any magical tricks to block memory reading. Let’s try and dump this out and <em>hope</em> that they also didn’t do any magic that breaks up the file within the game’s memory… The command we will need is <code>memory dump from_base &LTaddress> &LTsize to dump> &LToutput></code>. If you noticed earlier, the size of <code>global-metadata.dat</code> is 25,041,580 bytes, so let’s put that as the size to dump.<pre class=z-code><code><span class="z-text z-plain">com.sega.pjsekai on (google: 15) [usb] # memory dump from_base 741b09a00000 25041580 memory_dump.txt
</span><span class="z-text z-plain">Dumping 23.9 MiB from 741b09a00000 to memory_dump.txt
</span><span class="z-text z-plain">Memory dumped to file: memory_dump.txt
</span></code></pre><div class="admonition note"><div class="admonition-icon admonition-icon-note"></div><div class=admonition-content><strong class=admonition-title>NOTE</strong><p>During the recreation process for the above output, I mistakenly typed <code>26041580</code> as the size to dump and objection ended up dying… Looks like the file is allocated right at the edge of the game’s memory, so any attempts at reading beyond that will give you an access violation.</div></div><p>Looks like we got something out of it. Let’s see if this is exactly the <code>global-metadata.dat</code> we’ve been trying to extract.<p>Putting it into Il2CppDumper didn’t seem to give any problems, and we got a bunch of files and the recreated assemblies. Let’s move on ahead.<h1 id=unveiling-the-secrets><a aria-label="Anchor link for: unveiling-the-secrets" class="header-anchor no-hover-padding" href=#unveiling-the-secrets><span aria-hidden=true class=link-icon></span></a> Unveiling the secrets</h1><p>Now that we have our recreated assemblies and various files, let’s bring in our <em>actual</em> big guns and see what we can do.<p>Introducing, <a class=external href=https://ghidra-sre.org/>Ghidra</a>. This is a suite of software reverse engineering tools, including a disassembler and a decompiler, like I’ve briefly mentioned earlier. This will be our main tool to discover the secrets hidden within.<p>From the output of Il2CppDumper, what do we get?<ul><li>The set of restored <code>.dll</code> files, which we can inspect using any .NET decompiler tool.<li><code>il2cpp.h</code>, a header file containing all the structures information.<li><code>script.json</code>, a JSON file containing the metadata that we can load into our disassembler of choice.<li><code>ghidra_with_struct.py</code>, a script to be loaded into Ghidra to load the above <code>script.json</code> file.</ul><p>There’s also <code>il2cpp_header_to_ghidra.py</code>, we will need this to convert the above <code>il2cpp.h</code> into a Ghidra-compatible format, as there are minor differences between the format that IDA Pro takes and Ghidra’s.<p>Let’s start with converting the header file into Ghidra’s format.<pre class=z-code><code><span class="z-text z-plain">$ python ./il2cpp_header_to_ghidra.py
</span><span class="z-text z-plain">Script started...
</span><span class="z-text z-plain">il2cpp.h opened...
</span><span class="z-text z-plain">il2cpp.h read...
</span><span class="z-text z-plain">il2cpp.h data fixed...
</span><span class="z-text z-plain">il2cpp.h closed.
</span><span class="z-text z-plain">il2cpp_ghidra.h opened...
</span><span class="z-text z-plain">header written...
</span><span class="z-text z-plain">fixed data written...
</span><span class="z-text z-plain">il2cpp_ghidra.h closed.
</span></code></pre><p>Cool, that was painless. Time to open Ghidra. Create yourself a new project in Ghidra, and let’s load in <code>libil2cpp.so</code> to the project. While opening up the binary in CodeBrowser, make sure to <strong>not</strong> analyze the binary immediately. This will slow Ghidra down massively since this is a <em>very</em> large binary, and we want to load in the metadata first before we do any decompilation.<p>Let’s continue with parsing the C header that we obtained above (<code>il2cpp_ghidra.h</code>) into our Ghidra project. Go to File > Parse C Source within CodeBrowser’s interface. You will see something like below:<p><img alt="Parse C Source interface" src=/image/sekai-decompiling/parse-c-source.png><p>Get rid of all the files in the “Source files to parse” section, as well as “Include paths” and clear out the options within “Parse Options”. Then, you want to add <code>il2cpp_ghidra.h</code> into “Source files to parse”, as well as putting in <code>-D_GHIDRA_</code> into “Parse Options”. Feel free to save it into another profile - I have mine saved as <code>il2cpp.prf</code>. This is what it should look like:<p><img alt="Parse C Source interface after setting up" src=/image/sekai-decompiling/parse-c-source-il2cpp.png><p>Now hit “Parse to Program” and give it a bit… <del>This “bit” will depend on how good your CPU is… My measly i5-1240P took a good while.</del><p>Next, let’s add the <code>ghidra_with_struct.py</code> script into the Script Manager (Window > Script Manager). Run it and pass in the <code>script.json</code> from earlier. If nothing has gone wrong from parsing the C header file, the script should’ve loaded in all the metadata into the decompilation!<p><img alt="CodeBrowser after loading metadata" src=/image/sekai-decompiling/codebrowser.png><p>After another bit of Ghidra decompiling the functions <del>(like 12 hours of decompiling)</del>, you should get something like the above, and you’re now free to snoop around for things!<h1 id=conclusions><a aria-label="Anchor link for: conclusions" class="header-anchor no-hover-padding" href=#conclusions><span aria-hidden=true class=link-icon></span></a> Conclusions</h1><p>So, what did we end up with? A decompiled <code>libil2cpp.so</code> for the inner workings of the game, as well as a stubbed <code>Assembly-CSharp.dll</code> for an easy view into the various structs used. This is a great starting point to dive deeper into the game’s code.<p>Once again, this is less so a formal tutorial, more so my own notes to approach Unity decompilation, and I managed to learn a whole lot from this! I might come around and snoop further into things, but for now, this is a wrap for our journey. See you next time… maybe.<footer class=footnotes><ol class=footnotes-list><li id=fn-1><p><a class=external href=https://x.com/pjsekai_eng/status/1786372022307557495>https://x.com/pjsekai_eng/status/1786372022307557495</a> <a href=#fr-1-1>↩</a></p><li id=fn-2><p>A compilation process where code is compiled from intermediate representations into machine code at runtime. <a href=#fr-2-1>↩</a></p><li id=fn-3><p>An optimization technique that compiles intermediate representations like IL into native machine code before execution, so the resulting binary can be executed natively instead of within a provided runtime, as well as reducing the amount of work performed during runtime. <a href=#fr-3-1>↩</a></p></ol></footer></section></article></main><div id=button-container><div id=toc-floating-container><input class=toggle id=toc-toggle type=checkbox><label class=overlay for=toc-toggle></label><label title="Toggle Table of Contents" class=button for=toc-toggle id=toc-button><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M414.82-193.094q-18.044 0-30.497-12.32-12.453-12.319-12.453-30.036t12.453-30.086q12.453-12.37 30.497-12.37h392.767q17.237 0 29.927 12.487 12.69 12.486 12.69 30.203 0 17.716-12.69 29.919t-29.927 12.203H414.82Zm0-244.833q-18.044 0-30.497-12.487Q371.87-462.9 371.87-480.45t12.453-29.92q12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.511 12.69 12.512 12.69 29.845 0 17.716-12.69 30.086-12.69 12.37-29.927 12.37H414.82Zm0-245.167q-18.044 0-30.497-12.32t-12.453-30.037q0-17.716 12.453-30.086 12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.486 12.69 12.487 12.69 30.203 0 17.717-12.69 29.92-12.69 12.203-29.927 12.203H414.82ZM189.379-156.681q-32.652 0-55.878-22.829t-23.226-55.731q0-32.549 23.15-55.647 23.151-23.097 55.95-23.097 32.799 0 55.313 23.484 22.515 23.484 22.515 56.246 0 32.212-22.861 54.893-22.861 22.681-54.963 22.681Zm0-245.167q-32.652 0-55.878-23.134-23.226-23.135-23.226-55.623 0-32.487 23.467-55.517t56.12-23.03q32.102 0 54.721 23.288 22.62 23.288 22.62 55.775 0 32.488-22.861 55.364-22.861 22.877-54.963 22.877Zm-.82-244.833q-32.224 0-55.254-23.288-23.03-23.289-23.03-55.623 0-32.333 23.271-55.364 23.272-23.03 55.495-23.03 32.224 0 55.193 23.288 22.969 23.289 22.969 55.622 0 32.334-23.21 55.364-23.21 23.031-55.434 23.031Z"/></svg></label><div class=toc-content><div class=toc-container><ul><li><a href=https://rylie.moe/blog/sekai-decompiling/#unity-what-s-that>Unity? What’s that?</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#il2cppain>IL2CPPain…</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#less-pain-more-gain>Less pain, more gain?</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#the-battle-finally-starts>The battle finally starts…</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#introducing-frida>Introducing Frida</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#unveiling-the-secrets>Unveiling the secrets</a><li><a href=https://rylie.moe/blog/sekai-decompiling/#conclusions>Conclusions</a></ul></div></div></div><a title="Go to the top of the page" class=no-hover-padding href=# id=top-button> <svg viewbox="0 0 20 20" fill=currentColor><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg> </a></div><span class=hidden id=copy-success> Copied! </span><span class=hidden id=copy-init> Copy code to clipboard </span><script defer src=https://rylie.moe/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" href=https://rylie.moe/atom.xml> <img alt=feed loading=lazy src=https://rylie.moe/social_icons/rss.svg title=feed> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://github.com/j1nxie> <img alt=github loading=lazy src=https://rylie.moe/social_icons/github.svg title=github> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://steamcommunity.com/id/cauvong-chan> <img alt=steam loading=lazy src=https://rylie.moe/social_icons/steam.svg title=steam> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://anilist.co/user/Lumi9> <img alt=anilist loading=lazy src=https://rylie.moe/social_icons/anilist.svg title=anilist> </a></ul></nav><nav class=nav-navs><small> <ul><li><a class="nav-links no-hover-padding" href=https://rylie.moe/sitemap.xml> sitemap </a></ul> </small></nav><div class=credits><small> <p><p>lumi’s trashcan © 2022-2025 lumi</p> Powered by <a href=https://www.getzola.org>Zola</a> & <a href=https://github.com/welpo/tabi>tabi</a> </small></div></section><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><h1 class=visually-hidden id=modalTitle>Search</h1><div id=modal-content><div id=searchBar><div aria-hidden=true class=search-icon><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search… role=combobox spellcheck=false><div class="close-icon interactive-icon" title="Clear search" id=clear-search role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></div></div><div id=results-container><div id=results-info><span id=zero_results> No results</span><span id=one_results> $NUMBER result</span><span id=many_results> $NUMBER results</span><span id=two_results> $NUMBER results</span><span id=few_results> $NUMBER results</span></div><div id=results role=listbox></div></div></div></div></footer>